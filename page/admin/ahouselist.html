<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<meta charset="UTF-8">
		<title>房屋租赁系统</title>
		<link rel="stylesheet" type="text/css" href="/css/common.css" />
		<link rel="stylesheet" type="text/css" href="/css/main.css" />
		<script type="text/javascript" src="/js/jquery-2.1.1.min.js"></script>
		<script type="text/javascript" src="/js/libs/modernizr.min.js"></script>
	</head>
	<body>
		<div id="ahouselist" v-cloak>
			<common>

				<div>
					<div class="result-title">
						<h1>房源列表</h1>
					</div>
					<form id="houseForm" name="houseForm" action="ahouselist.action" method=post>
						<div class="result-title">
							<div class="result-list">
							</div>
						</div>
						<div class="result-content">
							<table id=grid
							       class="result-tab" width="100%">
								<tbody>
									<tr style="FONT-WEIGHT: bold; FONT-STYLE: normal; BACKGROUND-COLOR: #eeeeee; TEXT-DECORATION: none">
										<td>房屋id</td>
										<td>地址</td>
										<td>面积</td>
										<td>价格</td>
										<td>状态</td>
										<td>操作</td>

									</tr>
									<tr style="FONT-WEIGHT: normal; FONT-STYLE: normal; BACKGROUND-COLOR: white; TEXT-DECORATION: none" v-for="house in houseList" :key="house.id">
										<td>{{house.houseId}}</td>
										<td>{{house.address}}</td>
										<td>{{house.area}}</td>
										<td>{{house.price}}</td>
										<td>{{house.status}}</td>
										<td>
											<a class="link-update" :href="'changehouse.html?type=' + house.id">修改
											</a>
											&nbsp;&nbsp;
											<a class="link-del"
											   href="javascript:void(0)"
											   @click="deleteHouse(house.id)">删除
											</a>
										</td>


									</tr>
								</tbody>
							</table>
						</div>


						<tr>
						<tr>
							<span id=pagelink>
								<div style="LINE-HEIGHT: 20px; HEIGHT: 20px; TEXT-ALIGN: right; margin-top:10px">
									共[<B>{{totalCount}}</B>]条记录，共[<B>{{parseInt(totalCount/page.num)+ 1}}</B>]页
									,

									<span v-if="page.pageNum > 1">
										[
										<A href="javascript:void(0)" @click="getHouses(true)">前一页</A>
										]
									</span>
									第<B>{{page.pageNum}}</B>页

									<span v-if="page.pageNum < parseInt(totalCount/page.num)+ 1" @click="getHouses(false)">
										[
										<A href="javascript:void(0)">后一页</A>
										]
									</span>


								</div>
							</span>

						</tr>
						</tbody>


						</tbody>


					</form>
				</div>
			</common>
		</div>
		<script language=javascript>
            // 提交分页的查询的表单
            function to_page(page) {
                if (page) {
                    $("#page").val(page);
                }
                document.houseForm.submit();
            }
		</script>
		<script type="text/javascript" src="/js/libs/dream-msg.min.js"></script>
		<script type="text/javascript" src="/js/jquery.validate.min.js"></script>
		<script type="text/javascript" src="/js/vue.js"></script>
		<script type="text/javascript" src="/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="/js/localization/messages_zh.js"></script>
		<script type="text/javascript" src="/js/axios.min.js"></script>
		<script type="text/javascript" src="/js/vue-main.js?type=ahouselist"></script>
	</body>
</html>
