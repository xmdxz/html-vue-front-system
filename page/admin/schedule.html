<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>房屋租赁系统</title>
		<link rel="stylesheet" type="text/css" href="/css/common.css" />
		<link rel="stylesheet" type="text/css" href="/css/main.css" />
		<script type="text/javascript" src="/js/jquery-1.8.3.min.js"></script>
		<script type="text/javascript" src="/js/libs/modernizr.min.js"></script>
		<style type="text/css">


		</style>

	</head>
	<body>
		<div id="schedule" v-cloak>
			<common>
				<div class="result-title">
					<h1>日程列表</h1>
				</div>

				<div>
					<form id="houseForm" name="houseForm">
						<div class="result-title">
							<div class="result-list">
							</div>
						</div>
						<div class="result-content">
							<table id=grid
							       class="result-tab" width="100%">
								<tbody>
									<tr style="FONT-WEIGHT: bold; FONT-STYLE: normal; BACKGROUND-COLOR: #eeeeee; TEXT-DECORATION: none">
										<td>日期</td>
										<td>日程</td>
										<td>操作</td>
									</tr>
									<tr v-for="item in schedules" :key="item.id" style="FONT-WEIGHT: normal; FONT-STYLE: normal; BACKGROUND-COLOR: white; TEXT-DECORATION: none">
										<td>{{item.date}}</td>

										<td>{{item.content}}</td>

										<td>
											<a class="link-update"
											   :href="'updateschedule.html?id=' + item.id">修改
											</a>
											&nbsp;&nbsp;
											<a class="link-del"
											   href="javascript:void(0)"
											   @click="deleteSchedule(item.id)"
											>删除
											</a>
										</td>

										</td>

									</tr>

								</tbody>
							</table>
						</div>


						<tr>
						<tr>
							<span id=pagelink>
								<div style="LINE-HEIGHT: 20px; HEIGHT: 20px; TEXT-ALIGN: right; margin-top:10px">
									共[<B>{{totalCount}}</B>]条记录，共[<B>{{parseInt(totalCount / page.num) + 1}}</B>]页
									,

									<span v-if="page.pageNum > 1">
										[
										<A href="javascript:void(0)" @click="getHouses(true)">前一页</A>
										]
									</span>
									第<B>{{page.pageNum}}</B>页

									<span v-if="page.pageNum < parseInt(totalCount/page.num)+ 1" @click="getHouses(false)">
										[
										<A href="javascript:void(0)">后一页</A>
										]
									</span>


								</div>
							</span>

						</tr>
						</tbody>


						</tbody>


					</form>
				</div>
			</common>
		</div>
		<script language=javascript>
            // 提交分页的查询的表单
            function to_page(page) {
                if (page) {
                    $("#page").val(page);
                }
                document.houseForm.submit();
            }
		</script>
		<script type="text/javascript" src="/js/libs/dream-msg.min.js"></script>
		<script type="text/javascript" src="/js/vue.js"></script>
		<script type="text/javascript" src="/js/localization/messages_zh.js"></script>
		<script type="text/javascript" src="/js/axios.min.js"></script>
		<script type="text/javascript" src="/js/vue-main.js?type=schedule"></script>
	</body>
</html>
